import asyncio
from app.db import async_session_maker
from app.models import FAQEntry
from datetime import datetime, UTC

faq_data = [
    ("Как сделать заказ?", "Выберите товар на сайте, добавьте его в корзину и оформите заказ, указав контактные данные и адрес доставки."),
    ("Какие способы оплаты доступны?", "Мы принимаем оплату банковской картой, через СБП, а также наложенным платежом при получении."),
    ("Сколько стоит доставка?", "Стоимость доставки зависит от региона и рассчитывается автоматически при оформлении заказа."),
    ("Сколько занимает доставка по России?", "Обычно доставка занимает от 2 до 7 рабочих дней, в зависимости от региона."),
    ("Как отследить заказ?", "После отправки заказа мы пришлём вам трек-номер и ссылку для отслеживания."),
    ("Как связаться с поддержкой?", "Вы можете написать нам в чат на сайте или позвонить по телефону, указанному в разделе «Контакты»."),
    ("Как вернуть товар?", "Возврат возможен в течение 14 дней после получения при сохранении товарного вида и чека."),
    ("Есть ли гарантия на товар?", "Да, на всю технику предоставляется гарантия производителя сроком от 1 года."),
    ("Можно ли оформить рассрочку?", "Да, при оплате онлайн доступна рассрочка от наших банков-партнёров."),
    ("Работаете ли вы с юридическими лицами?", "Да, мы выставляем счета и заключаем договоры с организациями."),
]

async def seed_faq():
    async with async_session_maker() as session:
        for question, answer in faq_data:
            entry = FAQEntry(
                question=question,
                answer=answer,
                popularity=0,
                created_at=datetime.now(UTC),
                updated_at=datetime.now(UTC),
            )
            session.add(entry)
        await session.commit()
    print("✅ FAQ успешно загружен в базу")

if __name__ == "__main__":
    asyncio.run(seed_faq())
